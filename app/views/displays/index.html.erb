<!DOCTYPE html>
<html lang="en">
<head>
	<title>Contact V17</title>
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
	  <span class="navbar-brand"><%= t :language %></span>
	   <ul class="navbar-nav">
		<li class="nav-item active">
		  <span class="nav-link"><%= link_to "#{t :english}", root_path(locale: :en) %></span></span>
		</li>
		<li class="nav-item">
		  <span class="nav-link"><%= link_to "#{t :french}", root_path(locale: :fr) %></span>
		</li>
	  </ul>
  </nav>
	<div class="container-contact100">
		<div class="wrap-contact100">
			<form class="contact100-form validate-form" id="group-form" onsubmit="return saveContact()" role="form" action="/api/v1/contacts" method="POST">
				<span class="contact100-form-title">
					<%= t :heading %>
				</span>

				<label class="label-input100" for="first-name"><%= t :name_label%></label>
				<div class="wrap-input100 rs1-wrap-input100 validate-input" data-validate="Type first name">
					<input id="first-name" class="input100 fNameTxtOnly" type="text" name="contact[first_name]" placeholder=<%= t :first_name %>>
					<span class="focus-input100 fNameError"></span>
				</div>
				<div class="wrap-input100 rs2-wrap-input100 validate-input" data-validate="Type last name">
					<input class="input100 lNameTxtOnly" type="text" name="contact[last_name]" placeholder=<%= t :last_name %> required>
					<span class="focus-input100 lNameError"></span>
				</div>

				<label class="label-input100" for="email"><%= t :email_label%></label>
				<div class="wrap-input100 validate-input" data-validate = "Valid email is required: ex@abc.xyz">
					<input id="email" class="input100" type="email" name="contact[email]" placeholder="<%= t :eg_email %>" required>
					<span class="focus-input100"></span>
				</div>

				<label class="label-input100" for="phone"><%= t :phone_label %></label>
				<div class="wrap-input100">
					<input id="phone" class="input100 numeric" type="number" name="contact[phone_number]" placeholder=<%= t :eg_phone %>>
					<span class="focus-input100"></span>
				</div>

				<label class="label-input100" for="message"><%= t :message %></label>
				<div class="wrap-input100 validate-input" data-validate = "Message is required">
					<textarea id="message" class="input100" name="contact[message]" placeholder=<%= t :message_text %> required></textarea>
					<span class="focus-input100"></span>
				</div>

				<div class="container-contact100-form-btn">
					<button class="contact100-form-btn submit_btn">
						<%= t :sbmit_btn %>
					</button>
				</div>
			</form>
		<div class="contact100-more flex-col-c-m contact-background">
			<div class="flex-w size1 p-b-47">
				<div class="txt1 p-r-25">
					<span class="lnr lnr-map-marker"></span>
				</div>
				<div class="flex-col size2">
					<span class="txt1 p-b-20">
						<%= t :address %>
					</span>

					<span class="txt2">
						<%= t :full_address %>
					</span>
				</div>
			</div>
			<div class="dis-flex size1 p-b-47">
				<div class="txt1 p-r-25">
					<span class="lnr lnr-phone-handset"></span>
				</div>
				<div class="flex-col size2">
					<span class="txt1 p-b-20">
						Lets Talk
					</span>
					<span class="txt3">
						+1 800 1236879
					</span>
				</div>
			</div>
			<div class="dis-flex size1 p-b-47">
				<div class="txt1 p-r-25">
					<span class="lnr lnr-envelope"></span>
				</div>
				<div class="flex-col size2">
					<span class="txt1 p-b-20">
						General Support
					</span>
					<span class="txt3">
						contact@example.com
					</span>
				</div>
			</div>
		</div>
		<div class="after_submit" id="success">Form submitted successfully</div>
		<div class="after_submit" id="failure">Something went wrong, please check entered details</div>
	</div>
</body>
</html>

<script type="text/javascript">
	$(document).ready(function(){
    $( ".fNameTxtOnly, .lNameTxtOnly" ).keypress(function(e) {
    	$(".fNameError, .lNameError").css("border-color", "#00ad5f");
      var key = e.keyCode;
      if (key >= 48 && key <= 57) {
        e.preventDefault();
        if(e.currentTarget.id == "first-name"){
					$(".fNameError").css("border-color", "red");        	
        }
        else{
        	$(".lNameError").css("border-color", "red");
        }
      }
    });
  });
  function saveContact()
    {
	    $.ajax({
	      type: 'POST',
	      url: $('#group-form').attr('action'),
	      data: $('#group-form').serialize(),
	      dataType: "json",
	      success: function(data) {
					$('#success').addClass('show');
	        window.location.replace('/contacts');
	      },
	      error: function(){
	        $('#failure').addClass('show');
	      }
	    });
	  return false;
  }
</script>